operations:
    marello_inventory_item_enable_batches:
        label: marello.inventory.inventoryitem.enable_batch_inventory.label
        enabled: true
        routes:
            - marello_inventory_inventory_view
            - marello_inventory_inventory_update
        acl_resource: marello_inventory_inventory_update
        applications: [default]
        preconditions:
            '@equal': [$enableBatchInventory, false]
        actions:
            - '@assign_value': [$enableBatchInventory, true]
            - '@flush_entity': $.data
            - '@flash_message':
                  message: marello.inventory.messages.success.inventoryitem.saved
                  type: 'success'
        frontend_options:
            confirmation:
                message: marello.inventory.operations.enable_inventory_batch_confirm
                title: marello.inventory.operations.enable_inventory_batch_title
            options:
                allowMaximize: true
                allowMinimize: true
                dblclick: maximize
                maximizedHeightDecreaseBy: minimize-bar
                width: 500

    marello_retry_allocate_order:
        label: marello.order.action.order.allocate
        enabled: true
        entities:
            - Marello\Bundle\OrderBundle\Entity\Order
        applications: [ default ]
        for_all_datagrids: false
        exclude_datagrids: [ 'marello-order' ]
        routes:
            - marello_order_create
        button_options:
            icon: fa-refresh
            class: btn btn-primary
        actions:
            - '@flash_message':
                    message: 'success!'
                    type: 'info'
                    message_parameters:
                        id: $identifier
            - '@redirect':
                  route: marello_order_order_view
                  route_parameters:
                      id: $id
            - '@call_service_method':
                  service: marello_inventory.provider.inventory_allocation_provider
                  method: allocateOrderToWarehouses
                  method_parameters: [$.data]